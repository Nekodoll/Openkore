automacro AutoBuff {
	StatusInactiveHandle EFST_BLESSING
	JobIDNot 0
	exclusive 1
	timeout 20
	call getBuff


}
macro getBuff {
	do respawn
	switch ($.map) {
	case (== morocc) {
	do move morocc &rand(150,160) &rand(100, 105)
	do talknpc 158 107 n
	}
	case (== payon) {
	do move payon &rand(95,105) &rand(110, 120)
	do talknpc 100 116 n
	}
	}

}
automacro rehp {
	CurrentHP < 20%
	timeout 20
	InLockMap 1
	call getBuff
}

automacro getstunner {
	InInventory "Stunner" < 1
	timeout 6000
	BaseLevel >= 27
	JobID 0
	call {
		do pm Mirei: stunnergo
	}
}
automacro getmailstunner {
	PrivMsg /gmail/
	exclusive 1
	timeout 20
	call {
	do rodex open
	do rodex read 0
	do rodex getitems 0
	do rodex delete 0
	do rodex close
	do eq &inventory (Stunner)
	do conf lockMap moc_fild02
	do respawn

}
}

automacro movetowarp {
	PrivMsgName /108/i /Slave/
	call {
	do p $.PrivMsgNameLastMsg
	do p hahah
	do move morocc $.PrivMsgNameLastMsg
}
}

automacro goinwarp {
	InMap morocc
	exclusive 1
	overrideAI 1
	PartyMsgDist /108/i < 50
	call {
	do move morocc $.PrivMsgNameLastMsg
}
}

automacro lockMap_set {
	MapLoaded moc_fild02
	ConfigKeyNot lockMap moc_fild02
	timeout 5
	call {
	do conf lockMap $.map
}
}

automacro warplastpoint {
       	SimpleHookEvent AI/lockMap
       	InMap morocc
	InLockMap 0
       	overrideAI 1
	exclusive 1
	timeout 20
	call {
		switch (&config (lockMap)) {
		case (== gef_fild05) {
		do move morocc 132 105
		}
		case (== moc_fild02) {
		do move morocc 132 100
		}
		case (== moc_fild18) {
		do move morocc 128 100
		}
		case (== moc_fild17) {
		do move morocc 128 100
		}
		}

}
}

automacro lv30 {
	BaseLevel >= 30
	BaseLevel < 40
	overrideAI 1
	exclusive 1
	ConfigKeyNot lockMap moc_fild02,lockMap moc_fild18
	call {
		do conf lockMap moc_fild02
		do respawn

	}
}
automacro lv40 {
	BaseLevel >= 40
	BaseLevel < 50
	overrideAI 1
	exclusive 1
	ConfigKeyNot lockMap moc_fild18
	call {
		do conf lockMap moc_fild18
		do respawn

	}
}
automacro lv50 {
	BaseLevel >= 50
	overrideAI 1
	exclusive 1
	ConfigKeyNot lockMap moc_fild17
	call {
		do conf lockMap moc_fild17
		do respawn

	}
}
automacro DealAuto {
	CharCurrentWeight > 40%
	exclusive 1
	timeout 400
	call {
		#do ai manual
		do respawn
		do move morocc 133 44
		pause 2
	@tmpINV = (usable,card,etc,etc,equip,usable)
	$j = 0
	while ($j < 6) {
	@tmpI = &InventoryType ($tmpINV[$j])
	if ($tmpI[0] > -1) {
		do deal Mirei:
		pause 2
		$i = 0
		while ($i < @tmpI && $i<10) {
    		do deal add $tmpI[$i]
    		$i++
    		}
		do deal
		pause 2
		do deal

	}
	$j++
	}
	#do ai on
}
}
